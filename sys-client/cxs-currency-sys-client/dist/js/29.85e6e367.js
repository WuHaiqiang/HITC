"use strict";(self["webpackChunkcxs_currency_sys_client"]=self["webpackChunkcxs_currency_sys_client"]||[]).push([[29],{38562:function(t,e,s){s.d(e,{A:function(){return u}});s(28743);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"widget about"},[e("h3",{staticClass:"aside-title widget-title cursor",on:{click:function(e){return t.$router.push({name:"system-info"})}}},[t._v("关于本站")]),e("div",{staticClass:"item-rank"}),e("div",{attrs:{id:"feed_widget"}},[e("div",{staticClass:"feed-about"},[e("div",{staticClass:"about-main"},[e("div",{staticClass:"about-img"},[t.sysInfo.sysLogo?e("img",{staticClass:"cursor",attrs:{src:"/server/upload/20240608/48782e8c448143bf89d4dafe336f862920240608212937.png",alt:t.sysInfo.sysTitle},on:{click:function(e){return t.$router.push({name:"system-info"})}}}):t._e()]),e("div",{staticClass:"about-me"},[e("div",{staticClass:"about-name cursor",on:{click:function(e){return t.$router.push({name:"system-info"})}}},[t._v(" "+t._s(t.sysInfo.sysTitle))]),e("div",{staticClass:"about-the"},[t._v(t._s(t.sysInfo.sysGraph))])])]),e("div",{staticClass:"clear"})])]),e("div",{staticClass:"data-info d-flex item-tiling"},[e("dl",{staticClass:"text-center",attrs:{id:"fanBox",title:t.sysInfo.articleCount}},[e("dt",[e("span",{staticClass:"count",attrs:{id:"fan"}},[t._v(t._s(t.sysInfo.articleCount))])]),e("dd",[t._v("文章")])]),e("dl",{staticClass:"text-center",attrs:{title:t.sysInfo.originArticleCount}},[e("dt",[e("span",{staticClass:"count"},[t._v(t._s(t.sysInfo.originArticleCount))])]),e("dd",[t._v("原创")])]),e("dl",{staticClass:"text-center",attrs:{title:t.sysInfo.userCount}},[e("dt",[e("span",{staticClass:"count"},[t._v(t._s(t.sysInfo.userCount))])]),e("dd",[t._v("用户")])]),e("dl",{staticClass:"text-center",attrs:{title:t.sysInfo.tagCount}},[e("dt",[e("span",{staticClass:"count"},[t._v(t._s(t.sysInfo.tagCount))])]),e("dd",[t._v("标签")])]),e("dl",{staticClass:"text-center",attrs:{title:t.sysInfo.typeCount}},[e("dt",[e("span",{staticClass:"count"},[t._v(t._s(t.sysInfo.typeCount))])]),e("dd",[t._v("分类")])])]),e("div",{staticClass:"clear"})])},i=[],n=s(52004),l=s(93518),r={name:"AboutSystemSlide",data(){return{baseUrl:n.f}},computed:{...(0,l.L8)(["sysInfo"])}},o=r,c=s(81656),d=(0,c.A)(o,a,i,!1,null,"aaee5410",null),u=d.exports},72332:function(t,e,s){s.r(e),s.d(e,{default:function(){return x}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"site-content clean content",staticStyle:{transform:"none"}},[e("MyBreadcrumb",{attrs:{breadcrumb:t.isBread}}),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.lodding,expression:"lodding"}],staticClass:"content-area",attrs:{id:"primary","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[e("main",{staticClass:"site-main",attrs:{id:"main",role:"main"}},t._l(t.articleList,(function(t,s){return e("ArticleItem",{key:"a_"+s,attrs:{origin:1,article:t}})})),1)]),e("div",{staticClass:"widget-area all-sidebar",attrs:{id:"sidebar"}},[e("AboutSystem"),e("ArticleSide",{attrs:{title:"官方推荐",list:t.sysRecommendArticleList}}),t.hotSearchArticleList&&t.hotSearchArticleList.length>0?e("HotSearchSide",{class:{fixed:t.fiexd},attrs:{title:"推荐搜索",list:t.hotSearchArticleList}}):t._e(),e("MyTags",{attrs:{handle:t.changeTag}})],1)],1)},i=[],n=(s(28743),s(7164)),l=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navigation pagination",attrs:{role:"navigation"}},[e("div",{staticClass:"nav-links"},[t._l(t.pages,(function(s){return t.pages<=10?e("el-link",{key:s,staticClass:"page-numbers current"},[t._v(t._s(s))]):t._e()})),t._m(0)],2)])},r=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"page-numbers",attrs:{href:"/article?pageIndex=2"}},[e("span",{staticClass:"fa fa-angle-right"})])}],o={name:"MyPagination",props:{queryChange:{type:Function},pages:{type:Number,default:0}}},c=o,d=s(81656),u=(0,d.A)(c,l,r,!1,null,"10f36f5a",null),g=u.exports,h=s(21942),p=s(4754),m=s(65067),f=s(60390),y=s(48468),v=s(88618),C=s(93518),_=s(52004),b=s(38562);const A={pageNum:1,pageSize:5};var I={name:"index",components:{ArticleItem:n.A,MyPagination:g,MyTags:h.A,ArticleSide:y.A,HotSearchSide:v.A,AboutSystem:b.A},data(){return{baseUrl:_.f,isBread:!1,flag:!1,articleList:[],count:0,pages:0,fiexd:!1,oldScrollTop:0,noPage:!1,lodding:!1,oneFlag:!0,pageQuery:{tagId:void 0,typeId:void 0,pageNum:1,pageSize:5},listLoading:!1}},mounted(){this.init(),this.$nextTick((()=>{window.addEventListener("scroll",this.handleScroll)}))},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)},computed:{...(0,C.L8)(["sysInfo","hotSearchArticleList","sysRecommendArticleList"])},watch:{pageQuery:{deep:!0,handler(t,e){this.getArticleDataListPage()}}},methods:{init(){this.getArticleDataList()},getArticleDataList(){this.lodding=!0,(0,p.BJ)(A).then((t=>{this.lodding=!1,this.count=t.data.total,this.articleList=t.data.data,this.pages=t.data.pages})).catch((t=>{this.lodding=!1;const e=(0,m.tv)(f.hB);this.count=e.total,this.articleList=e.data,this.pages=e.pages}))},getArticleDataListPage(){this.lodding=!0,(0,p.BJ)(this.pageQuery).then((t=>{this.lodding=!1,this.count=t.data.total,this.articleList=this.articleList.concat(t.data.data),this.pages=t.data.pages,t.data.data&&0!==t.data.data.length||(this.noPage=!0)})).catch((t=>{console.log(t),this.getArticleDataList()}))},queryChange(t){this.pageQuery.pageNum=t},handleCurrentChange(t){this.pageQuery.pageNum=t},pageHandle(){this.pageQuery.pageNum<this.pages&&!this.noPage&&!this.lodding&&(this.pageQuery.pageNum=this.pageQuery.pageNum+1)},handleScroll(){let t=0;t=this.$device.windows?300:1e3;let e=document.getElementById("sidebar");const s=e.offsetHeight;let a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,i=a-this.oldScrollTop;this.oldScrollTop=a,this.fiexd=a>s;let n=document.documentElement.clientHeight||document.body.clientHeight,l=document.documentElement.scrollHeight||document.body.scrollHeight;a+n>l-t&&i>=0&&!this.lodding&&this.pageHandle()},changeTag(t){this.$router.push({name:"search-detail",query:{tagId:t.tagId}})}}},L=I,S=(0,d.A)(L,a,i,!1,null,"2cb7b48c",null),x=S.exports}}]);