"use strict";(self["webpackChunkcxs_currency_sys_client"]=self["webpackChunkcxs_currency_sys_client"]||[]).push([[612],{48468:function(t,e,i){i.d(e,{A:function(){return m}});i(28743);var a=function(){var t=this,e=t._self._c;return t.list&&t.list.length>0?e("div",{staticClass:"aside-box sidebar",attrs:{id:"asideHotArticle"}},[e("h3",{staticClass:"aside-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"item-rank"}),e("div",{staticClass:"aside-content"},[e("ul",{staticClass:"hotArticle-list"},t._l(t.list,(function(i){return e("li",{key:i.articleId},[e("div",{on:{click:function(e){return e.stopPropagation(),t.$router.push({name:"article-detail",params:{id:i.articleId}})}}},[t._v(" 【 "+t._s(i.typeName)+" 】"+t._s(i.articleTitle)+" "),e("img",{attrs:{src:t.readCountWhite,alt:""}}),e("span",{staticClass:"read"},[t._v(t._s(i.readCount))])])])})),0)])]):t._e()},s=[],r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAeFBMVEUAAAD////////b29vMzObS0uHV1d/NzdrQ0NvR0dzPz9rOztnPz9rMzNvNzdrOztvNzdjNzdvNzdrNzdnMzNrNzdrMzNnNzdjMzNnMzNnNzdnMzNjMzNnNzdnMzNjMzNnNzdjMzNjMzNjMzNnNzdnNzdjMzNjMzNht5VztAAAAJ3RSTlMAAAMHChEYKSssMENFRkxUVltgbHR1h8DEz9DT1NXZ3t/s9fb4+ft3fWcLAAAAvElEQVQoz7VS2Q6CMBAcoQUB5RRQkKOc//+HIltUTCiJifM0s9NtptvFQQH8bi7QnORaN019TRwNa+hRNb5QRfqnZ+fjCrn99rx+/ELvLZ4/yFJXlp2kg0+e2ZIWIQNYKEi15hwzI5UadNZISWfP0IHsmzzuunxyZW8wmQXREDhPVXECQqoUgCWzMPC5Q3AwmcpCTKQEXGIuUBKLVeZFde1REei+95StIdy0vfGpB6/+MvVnq9dka8H+s9QPD4w4I+oLviYAAAAASUVORK5CYII=",n={name:"HotArticleSide",props:{title:{type:String,default:""},list:{type:Array,default:()=>[]}},data(){return{readCountWhite:r}}},o=n,l=i(81656),c=(0,l.A)(o,a,s,!1,null,"68d8818c",null),m=c.exports},88618:function(t,e,i){i.d(e,{A:function(){return c}});i(28743);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"aside-box sidebar",attrs:{id:"asideHotArticle"}},[e("h3",{staticClass:"aside-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"item-rank"}),e("div",{staticClass:"aside-content"},[t.list&&t.list.length>0?e("ul",{staticClass:"hotArticle-list"},t._l(t.list,(function(i,a){return e("li",{key:i.articleId},[e("span",{staticClass:"num"},[t._v(" "+t._s(a+1)+" ")]),e("span",{staticClass:"substr",on:{click:function(e){return t.$router.push({name:"article-detail",params:{id:i.articleId}})}}},[t._v(" "+t._s(i.articleTitle)+" ")]),a<3?e("i",{staticClass:"icon-hot-fire"}):t._e()])})),0):t._e()])])},s=[],r={name:"HotSearchSide",props:{title:{type:String,default:""},list:{type:Array,default:()=>[]}},data(){return{}}},n=r,o=i(81656),l=(0,o.A)(n,a,s,!1,null,"43d103a5",null),c=l.exports},21942:function(t,e,i){i.d(e,{A:function(){return m}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"widget"},[e("h3",{staticClass:"aside-title widget-title"},[t._v("所有标签")]),e("div",{staticClass:"item-rank"}),e("div",{staticClass:"tagcloud aside-content clean"},[t._l(t.tagList,(function(i){return e("span",{key:i.tagId,staticClass:"tag-link-129 tag-link-position-1",on:{click:function(e){return t.clickTagHandle(i)}}},[t._v(" "+t._s(i.tagName)+" ")])})),e("div",{staticClass:"clear"})],2),e("div",{staticClass:"clear"})])},s=[],r=i(93518),n={name:"MyTags",props:{handle:{type:Function,default:void 0}},data(){return{}},mounted(){this.init()},computed:{...(0,r.L8)(["tagList"])},methods:{init(){},clickTagHandle(t){this.handle(t)}}},o=n,l=i(81656),c=(0,l.A)(o,a,s,!1,null,"258a0848",null),m=c.exports},4612:function(t,e,i){i.r(e),i.d(e,{default:function(){return M}});i(28743);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"site-content clean content",staticStyle:{transform:"none"}},[e("MyBreadcrumb",{attrs:{breadcrumb:!0}}),e("div",{staticClass:"content-area",class:{"width-full":!t.slider},attrs:{id:"primary"}},[t.articleInfo?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"xqBox",staticClass:"content-all",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[e("div",{staticClass:"content-header"},[e("ul",{staticClass:"single-meta"},[e("li",{staticClass:"download"},[e("a",{attrs:{rel:"external nofollow",title:"举报资源"},on:{click:t.reportClick}},[e("i",{staticClass:"el-icon-warning-outline"}),e("span",{staticClass:"comment-count"},[t._v("举报")])])]),t.articleInfo.fileInfo&&t.articleInfo.fileInfo.fileId?e("li",{staticClass:"download"},[e("a",{directives:[{name:"anchor",rawName:"v-anchor",value:"download",expression:"'download'"}],attrs:{rel:"external nofollow",title:"下载资源"}},[e("i",{staticClass:"el-icon-download"}),e("span",{staticClass:"comment-count"},[t._v("下载")])])]):t._e(),e("li",{staticClass:"comment"},[e("a",{attrs:{href:"javascript:void(0)",rel:"external nofollow",title:"评论数"},on:{click:function(e){return e.preventDefault(),t.commentClick.apply(null,arguments)}}},[e("i",{staticClass:"el-icon-chat-dot-round"}),e("span",{staticClass:"comment-count"},[t._v(" "+t._s(t.articleInfo.commentNum))])])]),e("li",{staticClass:"views",attrs:{title:"阅读数"}},[e("i",{staticClass:"el-icon-view"}),e("span",{staticClass:"articleViewCount"},[t._v(" "+t._s(t.articleInfo.readNum)+" ")])]),e("li",{staticClass:"r-hide"},[e("a",{staticClass:"slider",attrs:{href:"javascript:void(0)",title:"侧边栏"},on:{click:function(e){t.slider=!t.slider}}},[e("i",{staticClass:"el-icon-caret-left",staticStyle:{"margin-right":"-7px"}}),e("i",{staticClass:"el-icon-caret-right"})])])])]),e("h2",{staticClass:"title"},[t._v(t._s(t.articleInfo.articleTitle)+" "),1===t.articleInfo.articleIsSelf?e("el-tag",{staticStyle:{"margin-left":"5px"},attrs:{type:"",size:"mini",effect:"plain"}},[t._v(" 原创 ")]):e("el-tag",{staticStyle:{"margin-left":"5px"},attrs:{type:"info",size:"mini",effect:"plain"}},[t._v(" 非原创 ")])],1),e("v-md-editor",{attrs:{value:t.articleInfo.articleDetail,mode:"preview"}}),e("div",{staticClass:"content-footer"},[e("div",{staticClass:"reward"},[e("div",{staticClass:"social-main"},[e("span",{staticClass:"like"},[e("a",{staticClass:"favorite",attrs:{"data-action":"ding","data-id":"1",title:"点赞"},on:{click:function(e){return e.stopPropagation(),t.likeArticleHandle(t.articleInfo)}}},[e("i",{staticClass:"iconfont icon-dianzan",class:{"i-active":t.articleInfo.likeFlag}}),t._v("赞 "),e("i",{staticClass:"count"},[t._v(t._s(t.articleInfo.likeNum))])])]),e("div",{staticClass:"shang-p"},[t._m(0),e("span",{staticClass:"shang-s"},[e("a",{staticStyle:{cursor:"pointer"},on:{click:function(e){return e.stopPropagation(),t.rewardHandle()}}},[t._v("转发")]),e("share-dialog",{attrs:{visible:t.shareDialogVisible},on:{"update:visible":function(e){t.shareDialogVisible=e}}})],1)]),e("div",{staticClass:"share-sd"},[e("span",{staticClass:"share-s",staticStyle:{"margin-top":"25px!important"}},[e("a",{attrs:{id:"share-s",title:"收藏"},on:{click:function(e){return e.stopPropagation(),t.collectionArticleHandle(t.articleInfo)}}},[e("i",{staticClass:"iconfont icon-shoucang",class:{"i-active":t.articleInfo.collectionFlag}}),t._v(" 收藏 "),e("i",{staticClass:"count"},[t._v(t._s(t.articleInfo.collectionNum))])])])]),e("div",{staticClass:"clear"})])]),t.articleInfo.fileInfo&&void 0!==t.articleInfo.fileInfo.fileSize&&t.articleInfo.fileInfo.fileName?e("div",{staticClass:"article-file",attrs:{id:"position-download"}},[e("div",{staticClass:"file-info"},[e("div",[t._v(" 文件名： "),e("el-link",{staticClass:"item",attrs:{underline:!1},on:{click:function(e){return t.download(t.articleInfo)}}},[t._v(" "+t._s(t.articleInfo.fileInfo.fileName)+" ")]),t._v(" 文件大小: "+t._s(Math.floor(t.articleInfo.fileInfo.fileSize/1024))+"KB ")],1),e("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-download"},on:{click:function(e){return t.download(t.articleInfo)}}},[t._v("下载文件 ")])],1)]):t._e(),t.articleInfo.fileInfo&&t.articleInfo.fileInfo.fileStructure?e("div",{staticClass:"file-structure"},[e("el-tree",{attrs:{"render-content":t.renderContent,"default-expand-all":!1,"expand-on-click-node":!1,data:t.articleInfo.fileInfo.fileStructure,props:{children:"children",label:"name"}}})],1):t._e()]),e("el-divider"),e("div",{staticClass:"article-extra"},[t.articleInfo.type?e("div",{staticClass:"article-type"},[t._v(" 所属分类： "),e("span",{staticClass:"item",staticStyle:{"font-weight":"600"}},[t._v(t._s(t.parentType))]),e("i",{staticClass:"el-icon-arrow-right"}),e("el-link",{staticClass:"item",staticStyle:{"margin-left":"5px"},attrs:{underline:!1},on:{click:function(e){return t.$router.push({name:"search-detail",params:{typeId:t.articleInfo.type.id}})}}},[t._v(t._s(t.articleInfo.type.typeName)+" ")])],1):t._e(),t.articleInfo&&t.articleInfo.tags?e("div",{staticClass:"article-tag"},[t._v(" 所含标签: "),t._l(t.articleInfo.tags,(function(i){return e("el-tag",{key:i.tagId,staticClass:"cursor",staticStyle:{"margin-right":"10px"},on:{click:function(e){return t.$router.push({name:"search-detail",query:{tagId:i.tagId}})}}},[t._v(" "+t._s(i.tagName)+" ")])}))],2):t._e()]),e("div",{staticClass:"divider"}),e("div",{staticClass:"share-notice"},[1===t.articleInfo.articleIsSelf&&t.articleInfo.userInfo?e("div",{staticClass:"authorbio wow fadeInUp"},[t.articleInfo.userInfo.avatar&&t.articleInfo.userInfo.avatar.length>0?e("img",{staticClass:"avatar avatar-64 photo",attrs:{alt:t.articleInfo.userInfo.nickName,title:t.articleInfo.userInfo.nickName,src:t.baseUrl+t.articleInfo.userInfo.avatar,height:"64",width:"64"}}):t._e(),e("ul",{staticClass:"postinfo"},[e("li"),e("li",[e("span",{staticClass:"strong"},[t._v("版权声明：")]),t._v("本站原创文章，于"+t._s(t.articleInfo.createTime)+"，由 "),e("span",{staticClass:"strong"},[t._v(t._s(t.articleInfo.userInfo.nickName))]),t._v(" 发表。 ")]),e("li",{staticClass:"reprinted"},[e("span",{staticClass:"strong"},[t._v("转载请注明：")]),e("a",{attrs:{href:t.fullPath,target:"_blank",rel:"bookmark",title:"本文固定链接"+t.fullPath}},[t._v(" "+t._s(t.articleInfo.articleTitle)+" | "+t._s(t.sysInfo.sysTitle))])])]),e("div",{staticClass:"clear"})]):t._e(),0===t.articleInfo.articleIsSelf&&t.articleInfo.userInfo?e("div",{staticClass:"authorbio wow fadeInUp"},[t.articleInfo.userInfo.avatar&&t.articleInfo.userInfo.avatar.length>0?e("img",{staticClass:"avatar avatar-64 photo",attrs:{alt:t.articleInfo.userInfo.nickName,title:t.articleInfo.userInfo.nickName,src:t.baseUrl+t.articleInfo.userInfo.avatar,height:"64",width:"64"}}):t._e(),e("ul",{staticClass:"postinfo"},[e("li"),e("li",[e("span",{staticClass:"strong"},[t._v("文章信息：")]),t._v("非原创文章，于"+t._s(t.articleInfo.createTime)+"，由 "),e("span",{staticClass:"strong"},[t._v(t._s(t.articleInfo.userInfo.nickName))]),t._v(" 发表。 ")]),e("li",{staticClass:"reprinted"},[e("span",{staticClass:"strong"},[t._v("原文链接：")]),e("a",{attrs:{href:t.articleInfo.originalLink,target:"_blank",rel:"bookmark",title:"原文链接:"+t.articleInfo.originalLink}},[t._v(" "+t._s(t.articleInfo.articleTitle))])])]),e("div",{staticClass:"clear"})]):t._e()])],1):t._e()]),e("transition",{attrs:{name:"sidebar"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.slider,expression:"slider"}],key:"sidebar",ref:"sidebar",staticClass:"widget-area all-sidebar",attrs:{id:"sidebar"}},[t.articleInfo?e("UserSide",{attrs:{user:t.articleInfo.userInfo}}):t._e(),e("ArticleSide",{class:{fixed:t.fiexd},attrs:{title:"官方推荐",list:t.sysRecommendArticleList}}),e("ArticleSide",{attrs:{title:"最新发布"}}),t.hotSearchArticleList&&t.hotSearchArticleList.length>0?e("HotSearchSide",{attrs:{title:"热门文章",list:t.hotSearchArticleList}}):t._e()],1)]),e("el-dialog",{staticClass:"reward-model",attrs:{title:"分享",visible:t.dialogFormVisible,width:t.$device.windows?"40%":"300px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("div",{staticClass:"share-content"},[e("p",[t._v("点击下面的图标分享")]),e("div",{staticClass:"share-icons"},t._l(t.icons,(function(i){return e("div",{key:i.name,staticClass:"icon-item",on:{click:function(e){return t.handleClick(i)}}},[e("img",{attrs:{src:i.src,alt:i.name}}),e("p",[t._v(t._s(i.name))])])})),0),e("div",{staticClass:"share-link"},[e("p",[t._v("分享链接:")]),e("el-input",{attrs:{readonly:""},model:{value:t.shareLink,callback:function(e){t.shareLink=e},expression:"shareLink"}}),e("el-button",{on:{click:t.copyLink}},[t._v("复制链接")])],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.closeDialog}},[t._v("取消")])],1)]),e("el-dialog",{staticClass:"reward-model",attrs:{title:"下载文件",visible:t.downloadVisible,width:t.$device.windows?"40%":"300px"},on:{"update:visible":function(e){t.downloadVisible=e}}},[t.articleInfo&&t.articleInfo.fileInfo?e("div",[t._v(" 你要操作的是下载文件 "+t._s(t.articleInfo.fileInfo.fileName)+", 文件大小: "+t._s(Math.floor(t.articleInfo.fileInfo.fileSize/1024))+" KB "),t.articleInfo.articleDownloadPoint>=0?e("span",[t._v(",本次下载需要消耗 "+t._s(t.articleInfo.articleDownloadPoint)+" 积分(如已下载，不会重复扣除积分)")]):t._e()]):t._e(),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.downloadVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.downloadFile()}}},[t._v("确 定")])],1)]),e("el-dialog",{staticClass:"reward-model",attrs:{title:"资源举报",visible:t.reportDialogVisible,width:t.$device.windows?"50%":"300px"},on:{"update:visible":function(e){t.reportDialogVisible=e}}},[e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":t.$device.windows?"100px":"70px"}},[e("el-form-item",{attrs:{label:"举报类型",prop:"reportType"}},[t.$device.windows?e("el-radio-group",{model:{value:t.ruleForm.reportType,callback:function(e){t.$set(t.ruleForm,"reportType",e)},expression:"ruleForm.reportType"}},t._l(t.reportTypeList,(function(i,a){return e("el-radio",{key:a,attrs:{label:i}},[t._v(t._s(i))])})),1):e("el-select",{model:{value:t.ruleForm.reportType,callback:function(e){t.$set(t.ruleForm,"reportType",e)},expression:"ruleForm.reportType"}},t._l(t.reportTypeList,(function(t){return e("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),e("el-form-item",{attrs:{label:"举报图片",prop:"avatar"}},[e("div",{class:t.$device.windows?"pc":"phone"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.baseUrl+"/base/file/upload",headers:t.header,"show-file-list":!1,"on-success":t.handleAvatarSuccess1,"before-upload":t.beforeAvatarUpload}},[t.image1?e("img",{staticClass:"avatar",attrs:{src:t.baseUrl+t.image1}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.baseUrl+"/base/file/upload",headers:t.header,"show-file-list":!1,"on-success":t.handleAvatarSuccess2,"before-upload":t.beforeAvatarUpload}},[t.image2?e("img",{staticClass:"avatar",attrs:{src:t.baseUrl+t.image2}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.baseUrl+"/base/file/upload",headers:t.header,"show-file-list":!1,"on-success":t.handleAvatarSuccess3,"before-upload":t.beforeAvatarUpload}},[t.image3?e("img",{staticClass:"avatar",attrs:{src:t.baseUrl+t.image3}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),e("el-form-item",{attrs:{label:"举报内容",prop:"reportContent"}},[e("el-input",{attrs:{type:"textarea",rows:7,resize:"none",placeholder:"请输入举报内容","show-word-limit":"",autocomplete:"off",maxlength:"1000"},model:{value:t.ruleForm.reportContent,callback:function(e){t.$set(t.ruleForm,"reportContent",e)},expression:"ruleForm.reportContent"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.canalReport}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("提交")])],1)],1),e("el-drawer",{attrs:{size:"40%",title:"评论 "+t.articleInfo.commentNum,visible:t.commentDrawer,direction:"rtl"},on:{"update:visible":function(e){t.commentDrawer=e}}},[e("div",{staticClass:"comment-all scroll"},[e("CommentInputArea",{attrs:{"comment-handle":t.commentHandle}}),e("div",{staticClass:"comment-content"},[t._l(t.commentList,(function(i){return e("CommentItem",{key:i.commentId,attrs:{comment:i,replyFunc:t.replyFunc,replySuccess:t.replySuccess,operaSuccess:t.operaSuccess}})})),e("div",{staticStyle:{"text-align":"center"}},[t.commentBean.data&&t.commentBean.data.length>0?e("el-link",{attrs:{underline:!1,type:"info",disabled:t.moreStatus},nativeOn:{click:function(e){return t.moreComment.apply(null,arguments)}}},[t._v(t._s(t.moreTip))]):t._e()],1)],2)],1)])],1)},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"shang-empty"},[e("span")])}],r=i(4754),n=i(21942),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"aside-box sidebar",attrs:{id:"asideProfile"}},[e("div",{staticClass:"profile-intro d-flex"},[e("div",{staticClass:"avatar-box d-flex justify-content-center flex-column"},[e("a",{attrs:{href:"javascript:void(0)"}},[t.user.avatar?e("img",{staticClass:"avatar_pic",attrs:{src:t.baseUrl+t.user.avatar}}):t._e()])]),e("div",{staticClass:"user-info d-flex flex-column profile-intro-name-box"},[e("div",{staticClass:"profile-intro-name-boxTop"},[e("a",{attrs:{href:"javascript:void(0)",id:"uid",title:t.user.nickName}},[e("span",{staticClass:"name",attrs:{username:"weixin_44211968"}},[t._v(" "+t._s(t.user.nickName))])])]),e("div",{staticClass:"profile-intro-name-boxFooter"},[e("span",{staticClass:"personal-home-page personal-home-years",attrs:{title:t.user.autograph}},[t._v(" "+t._s(t.user.autograph))])])])]),e("div",{staticClass:"item-rank"}),e("div",{staticClass:"data-info d-flex item-tiling"},[e("dl",{staticClass:"text-center",attrs:{title:t.user.settings&&t.user.settings.showPoint?t.user.point:"用户已关闭积分显示功能"}},[e("dt",[e("span",{staticClass:"count"},[t._v(" "+t._s(t.user.settings&&t.user.settings.showPoint?t.user.point:0)+" ")])]),e("dd",[t._v("积分")])]),e("dl",{staticClass:"text-center",attrs:{id:"fanBox",title:t.user.articleCount}},[e("dt",[e("span",{staticClass:"count",attrs:{id:"fan"}},[t._v(" "+t._s(t.user.articleCount)+" ")])]),e("dd",[t._v("文章")])]),e("dl",{staticClass:"text-center",attrs:{title:t.user.selfArticleCount}},[e("dt",[e("span",{staticClass:"count"},[t._v(" "+t._s(t.user.selfArticleCount)+" ")])]),e("dd",[t._v("原创")])]),e("dl",{staticClass:"text-center",attrs:{title:t.user.likedCount}},[e("dt",[e("span",{staticClass:"count"},[t._v(" "+t._s(t.user.likedCount)+" ")])]),e("dd",[t._v("获赞")])]),e("dl",{staticClass:"text-center",attrs:{title:t.user.collectionCount}},[e("dt",[e("span",{staticClass:"count"},[t._v(t._s(t.user.collectionCount))])]),e("dd",[t._v("收藏")])])]),e("div",{staticClass:"profile-intro-name-boxOpration"},[t._m(0),e("div",{staticClass:"opt-letter-watch-box"},[e("a",{staticClass:"personal-watch bt-button cursor",attrs:{id:"btnAttent"},on:{click:t.toggleFollow}},[t._v(t._s(t.followText))])])])])},l=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"opt-letter-watch-box"},[e("a",{staticClass:"bt-button personal-letter",attrs:{href:"http://118.31.67.32:3002",target:"_blank",rel:"noopener"}},[t._v("私信")])])}],c=i(52004),m={name:"UserSide",props:{user:{type:Object,default:()=>({articleCount:6,autograph:"加油，未来可期!",avatar:"",collectionCount:0,likedCount:0,nickName:"HITer",point:0,selfArticleCount:0,userId:"67489e02c9b44da6aa33735ee9beb4d5"})},targetUser:{type:Object,required:!0,default:()=>({userId:"defaultUserId"})}},data(){return{baseUrl:c.f,isFollowing:!1}},computed:{followText(){return this.isFollowing?"已关注":"关注"}},methods:{toggleFollow(){this.isFollowing=!this.isFollowing;const t=this.isFollowing?"关注成功":"取消关注";this.$message.success(t)}}},d=m,u=i(81656),p=(0,u.A)(d,o,l,!1,null,"098aee14",null),f=p.exports,h=i(48468),g=i(93518),v=i(80503),C=i(88618),I="data:image/png;base64,UklGRooFAABXRUJQVlA4IH4FAABwLACdASosASwBPpFGoEylo6MiIbOYOLASCWlu4XYBG9w9/I8rJvD3z5zD7j2kdjO19upxHnzDqI90dY3jo9ZT+x8kn1L02/s0/Z32jP2ACLKmsIKUZBc8QKDILniBQZBc8QKDILniBQZBc8QKDILniBQZBc8QKDILniBQZBc8QKDILniBQZBc8QKDILnN10ov319WP/U1s2D3NYQUoyCunMo0xqCTtRKYuUY+KGu/PCPUBpdv/XmxwjaEP0xbUZxRE00H9EsDiZLUiBL7L2eLPKnbcJje4Luu1SRaVLl4DAzDBTvoM9aeaSk627LrLaQWswwV3CN6SCt/IlkFvtL2eLPQBQ/FFDnyRaAtivpsC9ihp+4nGs/33Z4tvxejG9fizZtoeZeL2eNNYVUveZeL2eLPLxezxZ5eL2eLPLxezxZ5eL2eLPLxezxZ5eL2eLPLxezxZ5eL2eLPLxezxZ5eL2eLPLxezxZ5eHAAAP7/pwwAAAAGX3tFx3vVrcE+/oQKMaYNSs0ELwjfSSF+01Hgaa5kPrIAw/k4tEI3ZUQqMYoRgb+oJW/fkkrr8d9YCjjIfhZ/2UHWvePQ7lqj49UtGR/BfVXjgigHpJrTL3ltiBPxyf/Hu/wqsx/Xr/EaU62Fgb2YOarB1Mhd5pg4Tc/KNGDQX1FL/43iIL9lsJNE9s43IND5NO+iXmZ/3EIXvptwUGjSG8AgMEILh7/p/Ojuu9X4jLu3pBLYwnjTX1kxZTiMGWinhD8u4sSeGUA1LNJdGrvVKwdizNf1qpgkkzeDUIC77hMPk2PFLMI2jWTmAdN4gvmGkXXHcEBuNmx1NjToQX16NYT+fkG2fPUY1D31K0pc1+i2Xm3Kpl1K2ST/giiCtZwIem2/bXlWT9XJYr6RLH7QZD1ADWCaWb0eb8yr193zioHDLPJzcHAGqRnNH05W3Bb1NKcPf1V5ri5o3v+xLlhuEGu4IYf5s3GlOPxy3rY3KnDF+yOMEzHt9NPPqZXdb87qHEIRDwWsvm8nRJj6vNMToDhiToS7cFpem+NzrMX7nj28Z/WSi3YejSIIAtM277lqcE2G9iO+gZypbvTU8/CIt/CZY3XqEm+BUJZyOKgcQ+R+ougIlBRGJsgqvggVBE4+FILwszKybd7MHTI2OGlr1LnjpUKXhwUSuBg0+89J/DXCToQSYsmgq5f66SexiJk7GYjYBQlzIGibwhe3QhJww7a06BJ1ntvR0e6pvFZoBBBuM0DSauZrluwc4Bh+AWQFZJMK1//WVL5dGy7VpqSi/kxOUGPvKk4KREf1xy3rn5bby/HPHZsgTuYVuDBnAmRhomICwt/A/Bj2ycSXDN1OEc1twCAYtvuUInJ0Y7/siltKRw8JsQqz7w0BbLL3jScbqCPHrYAgKTrkQGzrbuKNcR2yjnSBqwXkNYqOfZn3RhZxCmKUbGrFWqN1MNGyq9vEcbJngHgmU2VM7/IHEfRnM4sgcpApZvecJN+2ZZ1SlEW0IxUyfnzKJbfzu50iDty3etChmCbymdb4gNm/IGaDHX495y4cSo12F+dzKkTROUEvTEgpzO1tTqvilfEeqHL2ckZVKm1hCMHEA/p5maFZQj4yjPCdr9VwJhRjzUVmZ76ODww7UY88C4mHCZ0P1C2/QCzTb9pLg4idmXnBCp6KAQPtHvgQ5YOXKJRHpRPsw48se40XK9gbbeyHmm0by+TeYLwvhgzaSzz98Hb5n3Hj5L02ciRSpDPab29UNT4nt/ISBykoXU/3XkZIosoIvKEn6ktTRHsxmU0lUqaHoI6eg7OxEOG6sQPkdEHtGHP0RTi7HIPP+lxOlyIw0CZey0dnj3JGPeT/GeZfIeEZHfjhS2s4AAAAAAAAAA==",b=i(1009),_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-item"},[t.comment.commentFrom?e("div",{staticClass:"comment-content-avatar-box"},[t.comment.commentFrom.avatar?e("el-avatar",{staticStyle:{border:"1px solid #e8e8ed"},attrs:{title:t.comment.commentFrom.nickName,size:1==t.avatarSize?"large":"small",src:t.baseUrl+t.comment.commentFrom.avatar}}):e("el-avatar",{staticStyle:{border:"1px solid #e8e8ed"},attrs:{title:t.comment.commentFrom.nickName,size:1==t.avatarSize?"large":"small",src:t.defaultAvatar}})],1):t._e(),e("div",{staticClass:"comment-content-info"},[e("div",{on:{mouseenter:function(e){t.isEnter=!0},mouseleave:function(e){t.isEnter=!1}}},[e("div",{staticClass:"comment-user-info"},[t.comment.commentFrom&&!t.reply?e("span",{staticClass:"comment-nickname"},[t._v(" "+t._s(t.comment.commentFrom.nickName)+" ")]):t._e(),t.comment.commentFrom&&t.reply?e("span",{staticClass:"comment-nickname"},[t._v(" "+t._s(t.comment.commentFrom.nickName)+" 回复 "+t._s(t.comment.commentTo.nickName)+" ")]):t._e(),e("span",{staticClass:"comment-pushtime"},[t._v(" "+t._s(t.comment.commentTimeFormat)+" ")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isEnter,expression:"isEnter"}],staticClass:"comment-more"},[t.comment.commentFrom&&t.user.userId===t.comment.commentFrom.userId?e("el-link",{staticClass:"click-more",staticStyle:{"margin-right":"10px"},attrs:{type:"info",underline:!1},nativeOn:{click:function(e){return t.deleteHandle(t.comment)}}},[t._v(" 删除 ")]):t._e(),t.comment.commentFrom&&t.user.userId!==t.comment.commentFrom.userId?e("el-link",{staticStyle:{"margin-right":"10px"},attrs:{type:"info",underline:!1,icon:"el-icon-s-promotion"},nativeOn:{click:function(e){return t.reportHandle(t.comment)}}},[t._v(" 举报 ")]):t._e(),t.comment.commentFrom&&t.user.userId!==t.comment.commentFrom.userId?e("el-link",{staticStyle:{"margin-right":"10px"},attrs:{type:"info",underline:!1,icon:"el-icon-s-promotion"},nativeOn:{click:function(e){return t.replyHandle(t.comment)}}},[t._v(" "+t._s(t.isReply?"收起":"回复")+" ")]):t._e()],1),e("span",{staticClass:"comment-like"},[e("a",{staticClass:"favorite cursor",attrs:{"data-action":"ding","data-id":"1",title:"点赞"},on:{click:function(e){return e.stopPropagation(),t.likeCommentHandle(t.comment)}}},[e("i",{staticClass:"count"},[t._v(t._s(t.comment.likeCount))]),e("i",{staticClass:"iconfont icon-dianzan",class:{"i-active":t.comment.likeStatus}})])])]),e("div",{staticClass:"comment-content-text"},[t._v(" "+t._s(t.comment.commentContent)+" ")]),t.isReply?e("div",{staticClass:"comment-reply-area"},[e("CommentInputArea",{attrs:{"is-reply":!0,placeholder:t.placeholder,"comment-handle":t.replyCommentHandle}})],1):t._e()]),t.comment.children&&t.comment.children.length>0?e("div",t._l(t.comment.children,(function(i){return e("CommentItem",{key:i.commentId,attrs:{comment:i,avatarSize:2,replyFunc:t.replyFunc,reply:!0,replySuccess:t.replySuccess,operaSuccess:t.operaSuccess}})})),1):t._e(),e("el-dialog",{staticClass:"reward-model",attrs:{title:"评论举报",modal:!1,visible:t.reportDialogVisible,width:"50%"},on:{"update:visible":function(e){t.reportDialogVisible=e}}},[e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"举报类型",prop:"reportType"}},[e("el-radio-group",{model:{value:t.ruleForm.reportType,callback:function(e){t.$set(t.ruleForm,"reportType",e)},expression:"ruleForm.reportType"}},t._l(t.reportTypeList,(function(i,a){return e("el-radio",{key:a,attrs:{label:i}},[t._v(t._s(i))])})),1)],1),e("el-form-item",{attrs:{label:"举报内容",prop:"reportContent"}},[e("el-input",{attrs:{type:"textarea",rows:7,resize:"none",placeholder:"请输入举报内容","show-word-limit":"",autocomplete:"off",maxlength:"1000"},model:{value:t.ruleForm.reportContent,callback:function(e){t.$set(t.ruleForm,"reportContent",e)},expression:"ruleForm.reportContent"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.canalReport}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("提交")])],1)],1)],1)])},y=[],k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"comment-area"},[e("div",{staticClass:"avatar-box"},[t.user.avatar?e("el-avatar",{staticStyle:{border:"1px solid #e8e8ed"},attrs:{size:t.isReply?"small":"large",src:t.baseUrl+t.user.avatar}}):e("el-avatar",{staticStyle:{border:"1px solid #e8e8ed"},attrs:{size:t.isReply?"small":"large",src:t.defaultAvatar}})],1),e("div",{staticClass:"comment-box"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"input-comment",attrs:{id:"position-commentAxea",placeholder:t.placeholder},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),e("div",{staticClass:"comment-submit"},[e("span",{staticClass:"comment-tip"},[t._v("还能输入 "),e("span",{staticStyle:{color:"#222226",margin:"0 4px","font-style":"normal"}},[t._v(t._s(t.commentNumLimit))]),t._v(" 个字符")]),e("el-button",{staticStyle:{"border-radius":"15px",height:"25px","line-height":"8px"},attrs:{type:"primary",size:"small"},on:{click:t.commentClick}},[t._v(" "+t._s(t.isReply?"回复":"评论")+" ")])],1)])])},A=[],w={name:"CommentInputArea",props:{placeholder:{type:String,default:"请输入高质量的评论"},commentHandle:{type:Function,default:()=>{}},isReply:{type:Boolean,default:!1}},data(){return{defaultAvatar:I,baseUrl:c.f,commentContent:"",commentOldContent:"",commentNumLimit:1e3}},methods:{commentClick(){this.commentHandle(this.commentContent)},operaValue(t){this.commentContent=t}},mounted(){this.$bus.$on("opera-value",this.operaValue)},beforeDestroy(){this.$bus.$off("opera-value")},watch:{commentContent:{immediate:!0,handler:function(t,e){if(this.commentOldContent=e,t){const e=t.length;e>1e3?(this.commentContent=this.commentOldContent,this.commentNumLimit=0):this.commentNumLimit=1e3-e}else this.commentNumLimit=1e3}}},computed:{...(0,g.L8)(["user"])}},L=w,x=(0,u.A)(L,k,A,!1,null,"5cfa12d2",null),F=x.exports,S=i(76193),N=i(43603),T=i(27640),z={name:"CommentItem",components:{CommentItem:D,CommentInputArea:F},props:{comment:{type:Object,default:()=>{}},avatarSize:{type:Number,default:1},replyFunc:{type:Function,default:t=>{}},replySuccess:{type:Function,default:t=>{}},operaSuccess:{type:Function,default:(t,e)=>{}},reply:{type:Boolean,default:!1}},data(){var t=(t,e,i)=>{if(!e)return i(new Error("举报类型为必选项"));i()},e=(t,e,i)=>{""===e?i(new Error("举报内容为必填项")):(e.length>1e3&&i(new Error("举报内容不能大于1000字符")),i())};return{defaultAvatar:I,baseUrl:c.f,isEnter:!1,toUser:"",isReply:!1,reportDialogVisible:!1,reportTypeList:S.Cj,ruleForm:{reportType:"",reportContent:"",reportTarget:2,reportTargetId:null},rules:{reportType:[{validator:t,trigger:"blur"}],reportContent:[{validator:e,trigger:"blur"}]}}},computed:{...(0,g.L8)(["user","isLogin"]),placeholder(){return"回复: "+this.toUser},header(){return{access_token:(0,N.gf)()}}},methods:{likeCommentHandle(t){if(this.isLogin){const{likeStatus:e,commentId:i}=t;e?(0,b["in"])({commentId:i}).then((e=>{this.$message.success("取消点赞成功"),this.operaSuccess(t,0)})):(0,b.tT)({commentId:i}).then((e=>{this.$message.success("点赞成功"),this.operaSuccess(t,1)}))}else this.$store.dispatch("auth/setLoginFlag",!0)},replyHandle(t){this.isReply?this.isReply=!1:(this.isReply=!0,this.toUser=t.commentFrom.nickName)},reportHandle(t){this.user&&this.user.userId&&this.user.userId.length>0?(this.reportDialogVisible=!0,this.ruleForm.reportTarget=2,this.ruleForm.reportTargetId=t.commentId):this.$store.dispatch("auth/setLoginFlag",!0)},deleteHandle(t){(0,b.Tu)(this.comment.commentId).then((e=>{this.$message.success("删除成功"),this.operaSuccess(t,3)}))},replyCommentHandle(t){if(this.user&&this.user.userId&&this.user.userId.length>0){const{articleId:e,commentFrom:i,parentCommentId:a,commentId:s}=this.comment,r={commentContent:t,articleId:e,commentTo:i.userId,parentCommentId:a&&0!==a?a:s};(0,b.p8)(r).then((t=>{this.$message.success("回复成功"),this.$bus.$emit("opera-value",""),this.replySuccess()}))}else this.$store.dispatch("auth/setLoginFlag",!0)},canalReport(){this.reportDialogVisible=!1,this.resetForm("ruleForm")},submitForm(t){this.$refs[t].validate((t=>{if(!t)return console.log("error submit!!"),!1;(0,T.e)(this.ruleForm).then((t=>{this.$message.success(t.msg),this.ruleForm={},this.reportDialogVisible=!1}))}))},resetForm(t){this.$refs[t].resetFields()}}},U=z,H=(0,u.A)(U,_,y,!1,null,"1ab4296c",null),D=H.exports,B=function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"share-dialog",attrs:{title:"分享",visible:t.localVisible,width:"400px"},on:{"update:visible":function(e){t.localVisible=e},close:t.handleClose}},[e("div",{staticClass:"share-icons"},t._l(t.icons,(function(i){return e("div",{key:i.name,staticClass:"icon-item",on:{click:function(e){return t.handleClick(i)}}},[e("img",{attrs:{src:i.src,alt:i.name}}),e("p",[t._v(t._s(i.name))])])})),0),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.closeDialog}},[t._v("取消")])],1)])},P=[],$={props:{visible:{type:Boolean,default:!1}},data(){return{localVisible:this.visible,icons:[{name:"朋友圈",src:"/images/social-icons/moments.png"},{name:"微信",src:"/images/social-icons/weixin.png"},{name:"微博",src:"/images/social-icons/weibo.png"},{name:"QQ",src:"/images/social-icons/qq.png"},{name:"QQ空间",src:"/images/social-icons/qzone.png"}]}},watch:{visible(t){this.localVisible=t},localVisible(t){this.$emit("update:visible",t)}},methods:{handleClick(t){console.log(`点击了${t.name}`)},closeDialog(){this.localVisible=!1},handleClose(){this.localVisible=!1}}},R=$,V=(0,u.A)(R,B,P,!1,null,"567d3471",null),E=V.exports,Q={name:"ArticleDetail",components:{MyTags:n.A,UserSide:f,ArticleSide:h.A,HotSearchSide:C.A,CommentItem:D,CommentInputArea:F,sharePage:E},data(){var t=(t,e,i)=>{if(!e)return i(new Error("举报类型为必选项"));i()},e=(t,e,i)=>{""===e?i(new Error("举报内容为必填项")):(e.length>1e3&&i(new Error("举报内容不能大于1000字符")),i())};return{icons:[{name:"朋友圈",src:"/server/upload/20240617/636e4f11cc1b46febe941808a3a9172920240617171155.png"},{name:"微信",src:"/server/upload/20240617/636e4f11cc1b46febe941808a3a9172920240617171128.png"},{name:"微博",src:"/server/upload/20240617/636e4f11cc1b46febe941808a3a9172920240617171307.png"},{name:"QQ",src:"/server/upload/20240617/636e4f11cc1b46febe941808a3a9172920240617171022.png"},{name:"QQ空间",src:"/server/upload/20240617/636e4f11cc1b46febe941808a3a9172920240617171348.png"}],defaultAvatar:I,baseUrl:c.f,articleInfo:{articleTitle:"这是一个示例文章标题",articleDetail:"## 文章详情\n这是文章的详细内容。"},shareLink:"",articleId:0,slider:!0,rewardInfo:{},payImg:"",payBorder:"",queryList:{keyWord:"",tag:void 0},fiexd:!1,dialogFormVisible:!1,rewardType:1,downloadVisible:!1,loading:!1,downloadLodding:!1,commentDrawer:!1,commentTo:null,commentListParam:{pageNum:1,pageSize:5},commentBean:{},commentList:[],toUser:"",moreTip:"加载更多...",moreStatus:!1,isLodding:!1,shareDialogVisible:!1,reportDialogVisible:!1,reportTypeList:S.F0,ruleForm:{reportType:"",reportContent:"",reportImages:[],reportTarget:1,reportTargetId:null},image1:"",image2:"",image3:"",rules:{reportType:[{validator:t,trigger:"blur"}],reportContent:[{validator:e,trigger:"blur"}]}}},watch:{"$route.params":{handler:function(t,e){this.articleId=t.id,this.getArticleInfoHandle()}}},computed:{sharePage(){return E},...(0,g.L8)(["typeListArr","sysInfo","isLogin","hotSearchArticleList","sysRecommendArticleList","user"]),xqBox(){return this.$refs.xqBox},parentType(){if(this.articleInfo&&this.articleInfo.type){const t=this.typeListArr.find((t=>t.id=this.articleInfo.type.id));return t?t.typeName:""}return""},fullPath(){return window.location.href},header(){return{access_token:(0,N.gf)()}}},mounted(){this.articleId=this.$route.params.id||0,this.init(),this.$nextTick((()=>{document.documentElement.scrollTop=0,window.addEventListener("scroll",this.handleScroll)}))},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)},methods:{init(){const t=this.$route.query.flag;t&&(this.articleInfo.articleId=this.articleId,this.commentDrawer=!0,this.$nextTick((()=>{this.commentListParam.pageNum=1,this.moreStatus=!1,this.moreTip="加载更多...",this.getCommentList()}))),this.getArticleInfoHandle(),(0,v.DK)(this.articleId).then((t=>{this.rewardInfo=t.data}))},getArticleInfoHandle(){this.loading=!0,(0,r.Nl)(this.articleId).then((t=>{t.data?(this.articleInfo=t.data,this.loading=!1,this.$store.dispatch("header/setbreadcrumbAppend",t.data.articleTitle)):(this.$message.error("文章不存在"),this.$router.back())}))},handleScroll(){let t=document.getElementById("sidebar");const e=t.offsetHeight;let i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.oldScrollTop;i>e?(this.fiexd=!0,this.$forceUpdate()):(this.fiexd=!1,this.$forceUpdate())},download(t){this.isLogin?this.downloadVisible=!0:this.$store.dispatch("auth/setLoginFlag",!0)},downloadFile(){const t='127.0.0.1:3000/server/upload/files\\20240619\\464bbe96c2514e85ac54116013105c3420240619223849.zip"';window.location.href=t},likeArticleHandle(t){this.isLogin?t.likeFlag?(0,r.I2)(t.articleId).then((t=>{this.articleInfo.likeFlag=!1,this.articleInfo.likeNum=this.articleInfo.likeNum-1})):(0,r.CS)(t.articleId).then((t=>{this.articleInfo.likeFlag=!0,this.articleInfo.likeNum=this.articleInfo.likeNum+1})):this.$store.dispatch("auth/setLoginFlag",!0)},collectionArticleHandle(t){this.isLogin?t.collectionFlag?(0,r.lT)(t.articleId).then((t=>{this.articleInfo.collectionFlag=!1,this.articleInfo.collectionNum=this.articleInfo.collectionNum-1})):(0,r.PX)(t.articleId).then((t=>{this.articleInfo.collectionFlag=!0,this.articleInfo.collectionNum=this.articleInfo.collectionNum+1})):this.$store.dispatch("auth/setLoginFlag",!0)},renderContent(t,{node:e,data:i,store:a}){return t("span",{class:"custom-tree-node"},[t("span",[i.children&&i.children.length>0?t("i",{class:"el-icon-folder",style:"color: gold;"}):t("i",{class:"el-icon-tickets",style:"color: #409eff;"})," ",i.name]),"  ",t("span",[i.size&&i.size>0?Math.floor(i.size/1024)+"KB":""])])},rewardHandle(){this.generateShareLink(),this.dialogFormVisible=!0},generateShareLink(){const t=window.location.origin,e=encodeURIComponent(this.articleInfo.articleTitle),i=encodeURIComponent(`${t}/articles/123`);this.shareLink=`${t}/share?title=${e}&url=${i}`},handleClick(t){console.log(`分享至${t.name}: ${this.shareLink}`)},copyLink(){console.log("链接已复制"),this.$alert(`链接已复制: ${this.shareLink}`,"成功",{confirmButtonText:"确定"})},closeDialog(){this.dialogFormVisible=!1},handleClose(){this.dialogFormVisible=!1},commentClick(){this.commentDrawer=!0,this.commentListParam.pageNum=1,this.moreStatus=!1,this.moreTip="加载更多...",this.getCommentList()},getCommentList(){const t={...this.commentListParam,articleId:this.articleInfo.articleId};(0,v.iy)(t).then((t=>{this.commentBean=t.data,this.commentList=t.data.data}))},moreComment(){if(!this.isLodding){this.isLodding=!0,this.commentListParam.pageNum=this.commentListParam.pageNum+1;const t={...this.commentListParam,articleId:this.articleInfo.articleId};(0,v.iy)(t).then((t=>{this.isLodding=!1;const{data:e}=t;e.data&&0!==e.data.length?(this.moreTip="加载更多...",this.moreStatus=!1):(this.moreTip="暂无更多评论",this.moreStatus=!0),this.commentBean=t.data,this.commentList=this.commentList.concat(t.data.data)}))}},commentHandle(t){if(this.user&&this.user.userId&&this.user.userId.length>0){const e={articleId:this.articleInfo.articleId,commentContent:t,commentTo:this.commentTo?this.commentTo:this.articleInfo.articleBelongUserId,parentCommentId:this.parentCommentId};(0,b.p8)(e).then((t=>{this.$message.success("评论成功"),this.$bus.$emit("opera-value",""),this.getCommentList(),this.articleInfo.commentNum=this.articleInfo.commentNum+1}))}else this.$store.dispatch("auth/setLoginFlag",!0)},replyFunc(t){this.toUser=t.commentFrom.nickName},replySuccess(){this.getCommentList(),this.articleInfo.commentNum=this.articleInfo.commentNum+1},operaSuccess(t,e){3===e&&(this.articleInfo.commentNum=this.articleInfo.commentNum-1),this.getCommentList()},reportClick(){this.user&&this.user.userId&&this.user.userId.length>0?(this.reportDialogVisible=!0,this.ruleForm.reportTarget=1,this.ruleForm.reportTargetId=this.articleInfo.articleId):this.$store.dispatch("auth/setLoginFlag",!0)},handleAvatarSuccess1(t,e){this.image1=t.data},handleAvatarSuccess2(t,e){this.image2=t.data},handleAvatarSuccess3(t,e){this.image3=t.data},beforeAvatarUpload(t){const e="image/jpeg"===t.type,i="image/png"===t.type,a=t.size/1024/1024<2;return e||i||this.$message.error("上传头像图片只能是 jpg或png 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&a||i&&a},canalReport(){this.reportDialogVisible=!1,this.resetForm("ruleForm")},submitForm(t){this.$refs[t].validate((t=>{let e=[];if(this.image1&&this.image1.length>0&&e.push(this.image1),this.image2&&this.image2.length>0&&e.push(this.image2),this.image3&&this.image3.length>0&&e.push(this.image3),this.ruleForm.reportImages=e,!t)return console.log("error submit!!"),!1;console.log(this.ruleForm),(0,T.e)(this.ruleForm).then((t=>{this.$message.success(t.msg),this.image1="",this.image2="",this.image3="",this.ruleForm={},this.reportDialogVisible=!1}))}))},resetForm(t){this.$refs[t].resetFields()}}},j=Q,Z=(0,u.A)(j,a,s,!1,null,"1358fd5e",null),M=Z.exports},4754:function(t,e,i){i.d(e,{BJ:function(){return l},CS:function(){return u},I2:function(){return p},JR:function(){return r},KA:function(){return m},Nl:function(){return c},O:function(){return g},PX:function(){return f},lT:function(){return h},oc:function(){return o},ou:function(){return n},xE:function(){return d}});var a=i(52004),s=i(7277);function r(t={}){return(0,s.A)({url:a.f+"/article/saveOrUpdateDraft",method:"post",data:t})}function n(){return(0,s.A)({url:a.f+"/article/getArticleDraft",method:"get"})}function o(t={}){let e=new FormData;console.log(typeof t.file);for(let i in t)if("file"===i)t[i]&&Object.keys(t[i]).length>0&&e.append(i,t[i].raw);else if("tags"===i){if(t[i]&&t[i].length>0){const a=t[i].map((t=>t.tagId)).join(",");e.append(i,a)}}else e.append(i,t[i]);return(0,s.A)({url:a.f+"/article/saveOrUpdateArticle",method:"post",header:{"Content-type":"multipart/form-data"},data:e})}function l(t={}){return(0,s.A)({url:a.f+"/main/article/getArticleList",method:"post",data:t})}function c(t){return(0,s.A)({url:a.f+"/main/article/getArticleInfo",method:"get",params:{articleId:t}})}function m(t){return(0,s.A)({url:`${a.f}/article/getUpdateArticleInfo/${t}`,method:"get"})}function d(t){return(0,s.A)({url:a.f+"/main/article/readArticle",method:"get",params:{articleId:t}})}function u(t){return(0,s.A)({url:a.f+"/main/article/likeArticle",method:"get",params:{articleId:t}})}function p(t){return(0,s.A)({url:a.f+"/main/article/cancelLikeArticle",method:"get",params:{articleId:t}})}function f(t){return(0,s.A)({url:a.f+"/main/article/collectionArticle",method:"get",params:{articleId:t}})}function h(t){return(0,s.A)({url:a.f+"/main/article/cancelCollectionArticle",method:"get",params:{articleId:t}})}function g(t){return(0,s.A)({url:a.f+"/main/article/markArticleSearchLog",method:"get",params:{articleId:t}})}},1009:function(t,e,i){i.d(e,{Tu:function(){return r},in:function(){return l},p8:function(){return n},tT:function(){return o}});var a=i(7277),s=i(52004);function r(t){return(0,a.A)({url:s.f+"/article-comment/deleteComment",method:"get",params:{commentId:t}})}function n(t={}){return(0,a.A)({url:s.f+"/article-comment/publishComment",method:"post",data:t})}function o(t={}){return(0,a.A)({url:s.f+"/article-comment/likeComment",method:"post",data:t})}function l(t={}){return(0,a.A)({url:s.f+"/article-comment/unLikeComment",method:"post",data:t})}},27640:function(t,e,i){i.d(e,{c:function(){return n},e:function(){return r}});var a=i(7277),s=i(52004);function r(t={}){return(0,a.A)({url:s.f+"/report/addReport",method:"post",data:t})}function n(t){return(0,a.A)({url:`${s.f}/report/delReport/${t}`,method:"delete"})}}}]);