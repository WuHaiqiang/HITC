(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b7c6e232"],{"08de":function(e,t,n){},3138:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-button",{attrs:{type:"primary"},on:{click:e.handleAddNav}},[e._v("创建新链接")]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.navLinkList,border:""}},[n("el-table-column",{attrs:{align:"center",label:"序号",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){t.scope;var n=t.$index;return[e._v(" "+e._s(n+1)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"链接名称",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.navName)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"链接描述",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.navDesc)+" ")]}}])}),n("el-table-column",{attrs:{align:"center","show-overflow-tooltip":!0,label:"链接地址",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.navLink)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"链接图标",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("span",[n("svg-icon",{attrs:{"icon-class":e.row.navIcon}})],1)]}}])}),n("el-table-column",{attrs:{align:"center",label:"是否登录显示",width:"120"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{value:1===e.row.navMustLogin,"active-color":"#13ce66","inactive-color":"#ccc"}})]}}])}),n("el-table-column",{attrs:{align:"center",label:"链接类型",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.navType?n("el-tag",{attrs:{type:"success",effect:"dark"}},[e._v(" 路由 ")]):n("el-tag",{attrs:{type:"success"}},[e._v(" 外部链接 ")])]}}])}),n("el-table-column",{attrs:{align:"center",label:"操作",width:"400px","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.handleEdit(t)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.unMoveHandle(t)}}},[e._v("上移")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.downMoveHandle(t)}}},[e._v("下移")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.topMoveHandle(t)}}},[e._v("置顶")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){return e.handleDelete(t)}}},[e._v("删除")])]}}])})],1),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"edit"===e.dialogType?"编辑链接":"新增链接"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{attrs:{model:e.nav,"label-width":"80px","label-position":"left"}},[n("el-form-item",{attrs:{label:"链接名称"}},[n("el-input",{attrs:{placeholder:"链接名"},model:{value:e.nav.navName,callback:function(t){e.$set(e.nav,"navName",t)},expression:"nav.navName"}})],1),n("el-form-item",{attrs:{label:"链接描述"}},[n("el-input",{attrs:{placeholder:"链接描述"},model:{value:e.nav.navDesc,callback:function(t){e.$set(e.nav,"navDesc",t)},expression:"nav.navDesc"}})],1),n("el-form-item",{attrs:{label:"链接图标"}},[n("el-input",{attrs:{placeholder:"链接图标"},model:{value:e.nav.navIcon,callback:function(t){e.$set(e.nav,"navIcon",t)},expression:"nav.navIcon"}})],1),n("el-form-item",{attrs:{label:"链接类型"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择链接类型"},on:{change:function(t){return e.navTypeChange(t)}},model:{value:e.nav.navType,callback:function(t){e.$set(e.nav,"navType",t)},expression:"nav.navType"}},[n("el-option",{attrs:{label:"路由",value:1}}),n("el-option",{attrs:{label:"外部链接",value:2}})],1)],1),n("el-form-item",{attrs:{label:"链接地址"}},[n("el-input",{attrs:{placeholder:"链接地址"},model:{value:e.nav.navLink,callback:function(t){e.$set(e.nav,"navLink",t)},expression:"nav.navLink"}})],1),n("el-form-item",{attrs:{label:"是否登录"}},[n("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-value":1,"inactive-value":0},model:{value:e.nav.navMustLogin,callback:function(t){e.$set(e.nav,"navMustLogin",t)},expression:"nav.navMustLogin"}})],1)],1),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.confirmNav}},[e._v("确认")])],1)],1)],1)},i=[],l=n("c7eb"),s=n("1da1"),o=(n("99af"),n("14d9"),n("ed08")),c=n("b775"),r=n("da71");function v(){return Object(c["a"])({url:r["a"]+"/admin/nav/getLinkList",method:"get"})}function u(e){return Object(c["a"])({url:r["a"]+"/admin/nav/createOrUpdateNavLink",method:"post",data:e})}function d(e){return Object(c["a"])({url:r["a"]+"/admin/nav/navLinkOrderMoveOrToppingOrDel",method:"post",data:e})}var p={navId:void 0,navName:"",navDesc:"",navIcon:"",navLink:"",navMustLogin:0,navRemark:"",navType:1},f={name:"Nav",data:function(){return{nav:Object.assign({},p),navLinkList:[],listLoading:!0,dialogVisible:!1,dialogType:"new",defaultProps:{children:"children",label:"title"}}},created:function(){this.getList()},methods:{navTypeChange:function(e){this.$forceUpdate()},getList:function(){var e=this;this.listLoading=!0,v().then((function(t){e.listLoading=!1,e.navLinkList=t.data}))},handleAddNav:function(){this.nav=Object.assign({},p),this.dialogType="new",this.dialogVisible=!0},handleEdit:function(e){this.dialogType="edit",this.dialogVisible=!0,this.nav=Object(o["c"])(e.row)},handleDelete:function(e){var t=this,n=(e.$index,e.row);this.$confirm("确定要删除这个链接吗?","Warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(Object(l["a"])().mark((function e(){var a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={navId:n.navId,operaType:4},e.next=3,d(a);case 3:t.$message({type:"success",message:"链接删除成功!"}),t.getList();case 5:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)}))},unMoveHandle:function(e){var t=this,n={navId:e.row.navId,operaType:2};d(n).then((function(){t.$message({type:"success",message:"链接上移成功!"}),t.getList()}))},downMoveHandle:function(e){var t=this,n={navId:e.row.navId,operaType:3};d(n).then((function(){t.$message({type:"success",message:"链接下移成功!"}),t.getList()}))},topMoveHandle:function(e){var t=this,n={navId:e.row.navId,operaType:1};d(n).then((function(){t.$message({type:"success",message:"链接置顶成功!"}),t.getList()}))},confirmNav:function(){var e=this;return Object(s["a"])(Object(l["a"])().mark((function t(){var n,a,i,s,o,c,r;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n="edit"===e.dialogType,!n){t.next=6;break}return t.next=4,u(e.nav);case 4:t.next=13;break;case 6:return e.nav.roleId=void 0,t.next=9,u(e.nav);case 9:a=t.sent,i=a.data,e.nav.navId=i.navId,e.navLinkList.push(e.nav);case 13:s=e.nav,o=s.navDesc,c=s.navId,r=s.navName,e.dialogVisible=!1,e.$notify({title:"Success",dangerouslyUseHTMLString:!0,message:"\n            <div>nav Id: ".concat(c,"</div>\n            <div>nav Name: ").concat(r,"</div>\n            <div>Description: ").concat(o,"</div>\n          "),type:"success"}),e.getList();case 17:case"end":return t.stop()}}),t)})))()}}},m=f,b=(n("93e3"),n("2877")),g=Object(b["a"])(m,a,i,!1,null,"2bc9511e",null);t["default"]=g.exports},"93e3":function(e,t,n){"use strict";n("08de")}}]);