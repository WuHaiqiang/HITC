(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ccd901be"],{"08a5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.listQuery,inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"反馈状态"}},[a("el-select",{model:{value:e.listQuery.feedbackStatus,callback:function(t){e.$set(e.listQuery,"feedbackStatus",t)},expression:"listQuery.feedbackStatus"}},[a("el-option",{attrs:{label:"待处理",value:0}}),a("el-option",{attrs:{label:"已处理",value:1}})],1)],1),a("el-form-item",[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(" 搜索 ")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.list,border:""}},[a("el-table-column",{attrs:{resizable:!1,"show-overflow-tooltip":!0,align:"center",label:"反馈id",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.feedbackId)+" ")]}}])}),a("el-table-column",{attrs:{resizable:!1,"show-overflow-tooltip":!0,align:"center",label:"反馈类型",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.feedbackType)+" ")]}}])}),a("el-table-column",{attrs:{resizable:!1,"show-overflow-tooltip":!0,align:"center",label:"反馈内容",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.feedbackContent)+" ")]}}])}),a("el-table-column",{attrs:{resizable:!1,"show-overflow-tooltip":!0,align:"center",label:"反馈状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[1===i.feedbackStatus?a("el-tag",{attrs:{type:"success",effect:"dark"}},[e._v(" 已处理 ")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[e._v(" 待处理 ")])]}}])}),a("el-table-column",{attrs:{resizable:!1,"show-overflow-tooltip":!0,align:"center",label:"反馈时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.feedbackTime)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",fixed:"right",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.feedbackStatus?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleEdit(t)}}},[e._v("处理")]):e._e(),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleShow(t)}}},[e._v("查看")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleDelete(t)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"end"},attrs:{"current-page":e.pageInfo.pageNum,"page-sizes":[5,10,20,50],"page-size":e.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{width:"70%",visible:e.dialogVisible,title:"处理反馈"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.type,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"反馈类型"}},[e._v(" "+e._s(e.type.feedbackType)+" ")]),a("el-form-item",{attrs:{label:"反馈内容"}},[e._v(" "+e._s(e.type.feedbackContent)+" ")]),a("el-form-item",{attrs:{label:"接收邮件"}},[e._v(" "+e._s(e.type.feedbackEmail)+" ")]),e.type.feedbackImages&&e.type.feedbackImages.length>0?a("el-form-item",{attrs:{label:"反馈图片"}},e._l(e.type.feedbackImages,(function(t){return a("el-image",{key:t,staticStyle:{width:"300px",height:"200px","margin-right":"10px"},attrs:{src:e.baseUrl+t}})})),1):e._e(),a("el-form-item",{staticClass:"postInfo-container-item",attrs:{label:"邮件反馈"}},[a("el-switch",{staticStyle:{display:"block","margin-left":"0","margin-top":"9px"},attrs:{"active-color":"#13ce66","active-value":1,"inactive-value":0,"active-text":"通知","inactive-text":"不通知"},model:{value:e.type.emailFlag,callback:function(t){e.$set(e.type,"emailFlag",t)},expression:"type.emailFlag"}})],1),a("el-form-item",{attrs:{label:"回复内容"}},[a("el-input",{staticClass:"article-textarea",attrs:{rows:5,maxlength:"1000",resize:"none","show-word-limit":"",type:"textarea",placeholder:"请输入文章摘要，0-1000字"},model:{value:e.type.replyContent,callback:function(t){e.$set(e.type,"replyContent",t)},expression:"type.replyContent"}})],1)],1),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmType}},[e._v("确认")])],1)],1),a("el-dialog",{attrs:{width:"70%",visible:e.showDialogVisible,title:"查看反馈"},on:{"update:visible":function(t){e.showDialogVisible=t}}},[a("el-form",{attrs:{model:e.type,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"反馈类型"}},[e._v(" "+e._s(e.type.feedbackType)+" ")]),a("el-form-item",{attrs:{label:"反馈内容"}},[e._v(" "+e._s(e.type.feedbackContent)+" ")]),a("el-form-item",{attrs:{label:"接收邮件"}},[e._v(" "+e._s(e.type.feedbackEmail)+" ")]),e.type.feedbackImages&&e.type.feedbackImages.length>0?a("el-form-item",{attrs:{label:"反馈图片"}},e._l(e.type.feedbackImages,(function(t){return a("el-image",{key:t,staticStyle:{width:"300px",height:"200px","margin-right":"10px"},attrs:{src:e.baseUrl+t}})})),1):e._e(),a("el-form-item",{attrs:{label:"反馈内容"}},[1===e.type.feedbackStatus?a("el-tag",{attrs:{type:"success",effect:"dark"}},[e._v(" 已处理 ")]):a("el-tag",{attrs:{type:"danger",effect:"dark"}},[e._v(" 待处理 ")])],1),1===e.type.feedbackStatus?a("el-form-item",{attrs:{label:"回复内容"}},[e._v(" "+e._s(e.type.replyContent)+" ")]):e._e(),1===e.type.feedbackStatus?a("el-form-item",{attrs:{label:"回复时间"}},[e._v(" "+e._s(e.type.replyTime)+" ")]):e._e()],1),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showDialogVisible=!1}}},[e._v("关闭")])],1)],1)],1)},l=[],n=a("c7eb"),r=a("1da1"),o=(a("a434"),a("ed08")),s=(a("8bd7"),a("b775")),c=a("da71");function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s["a"])({url:c["a"]+"/admin/feedback/getFeedBackList",method:"post",data:e})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s["a"])({url:c["a"]+"/admin/feedback/handleFeedBack",method:"post",data:e})}function f(e){return Object(s["a"])({url:c["a"]+"/admin/feedback/removeFeedBack/".concat(e),method:"delete"})}function p(e){return Object(s["a"])({url:c["a"]+"/admin/feedback/adminGetFeedBackInfo/".concat(e),method:"get"})}var m=a("6724"),b={id:null,gold:0,money:0,discount:10,shows:!0,typeDesc:""},g={name:"Feedback",directives:{waves:m["a"]},data:function(){return{listQuery:{pageNum:1,pageSize:10,feedbackStatus:0},pageInfo:{},baseUrl:c["a"],list:[],total:0,pointRechargeTypeList:[],listLoading:!0,dialogVisible:!1,showDialogVisible:!1,dialogType:"new",type:Object.assign({},b),qian:0}},created:function(){this.getList(this.listQuery)},methods:{handleFilter:function(){this.listQuery.pageNum=1,this.getList(this.listQuery)},getList:function(e){var t=this;this.listLoading=!0,d(e).then((function(e){t.list=e.data.data,t.total=e.data.total,t.pageInfo=e.data,setTimeout((function(){t.listLoading=!1}),500)}))},handleEdit:function(e){this.dialogVisible=!0,this.type=Object(o["c"])(e.row)},handleShow:function(e){var t=this;this.showDialogVisible=!0,p(e.row.feedbackId).then((function(e){t.type=e.data}))},handleDelete:function(e){var t=this,a=e.$index,i=e.row;this.$confirm("确定要删除这条数据吗?","Warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:f(i.feedbackId).then((function(e){t.list.splice(a,1),t.$message({type:"success",message:"类型删除成功!"})}));case 1:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)}))},confirmType:function(){var e=this;return Object(r["a"])(Object(n["a"])().mark((function t(){var a,i,l,r,o;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.type,i=a.feedbackId,l=a.replyContent,r=a.emailFlag,o={feedbackId:i,replyContent:l,emailFlag:r},u(o).then((function(t){e.$message.success(t.msg),e.dialogVisible=!1,e.type={},e.getList(e.listQuery)}));case 3:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.listQuery.pageSize=e},handleCurrentChange:function(e){this.listQuery.pageNum=e}}},h=g,y=(a("3c01"),a("2877")),v=Object(y["a"])(h,i,l,!1,null,"4b32c8c6",null);t["default"]=v.exports},"3c01":function(e,t,a){"use strict";a("7fa2")},6724:function(e,t,a){"use strict";a("8d41");var i="@@wavesContext";function l(e,t){function a(a){var i=Object.assign({},t.value),l=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),n=l.ele;if(n){n.style.position="relative",n.style.overflow="hidden";var r=n.getBoundingClientRect(),o=n.querySelector(".waves-ripple");switch(o?o.className="waves-ripple":(o=document.createElement("span"),o.className="waves-ripple",o.style.height=o.style.width=Math.max(r.width,r.height)+"px",n.appendChild(o)),l.type){case"center":o.style.top=r.height/2-o.offsetHeight/2+"px",o.style.left=r.width/2-o.offsetWidth/2+"px";break;default:o.style.top=(a.pageY-r.top-o.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",o.style.left=(a.pageX-r.left-o.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return o.style.backgroundColor=l.color,o.className="waves-ripple z-active",!1}}return e[i]?e[i].removeHandle=a:e[i]={removeHandle:a},a}var n={bind:function(e,t){e.addEventListener("click",l(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[i].removeHandle,!1),e.addEventListener("click",l(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[i].removeHandle,!1),e[i]=null,delete e[i]}},r=function(e){e.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(r)),n.install=r;t["a"]=n},"7fa2":function(e,t,a){},"8bd7":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return s}));var i=a("b775"),l=a("da71");function n(){return Object(i["a"])({url:l["a"]+"/admin/rechangeType/getPointRechargeTypeList",method:"get"})}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])({url:l["a"]+"/admin/rechangeType/saveOrPointRechargeType",method:"post",data:e})}function o(e){return Object(i["a"])({url:l["a"]+"/admin/rechangeType/removePointRechargeType/".concat(e),method:"delete"})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])({url:l["a"]+"/admin/tradeOrder/getPointTradeOrderList",method:"post",data:e})}},"8d41":function(e,t,a){}}]);