(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f355c9e4"],{2942:function(t,e,n){},"3ad8":function(t,e,n){"use strict";n("2942")},f8f2:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[t.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.resetInput},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.createNewTag(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{type:"primary"},on:{click:t.showInput}},[t._v("创建新标签")]),n("br"),n("br"),t._l(t.tagList,(function(e){return n("el-tag",{key:e.tagId,staticClass:"cursor",staticStyle:{margin:"10px 10px 10px 0px"},attrs:{closable:"","disable-transitions":!1},on:{click:function(n){return t.clickHandle(e)},close:function(n){return t.deleteTag(e)}}},[t._v(" "+t._s(e.tagName)+" ")])})),n("el-dialog",{attrs:{visible:t.dialogVisible,title:"编辑标签"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{attrs:{model:t.tag,"label-width":"80px","label-position":"left"}},[n("el-form-item",{attrs:{label:"标签名称"}},[n("el-input",{attrs:{placeholder:"标签名称"},model:{value:t.tag.tagName,callback:function(e){t.$set(t.tag,"tagName",e)},expression:"tag.tagName"}})],1)],1),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"danger"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.confirmRole}},[t._v("确认")])],1)],1)],2)},a=[],s=n("c7eb"),c=n("1da1"),u=(n("a434"),n("b775")),l=n("da71");function o(){return Object(u["a"])({url:l["a"]+"/admin/tag/getTagList",method:"get"})}function r(t){return Object(u["a"])({url:l["a"]+"/admin/tag/saveOrUpdateTag",method:"post",data:t})}function g(t){return Object(u["a"])({url:l["a"]+"/admin/tag/deleteTag/".concat(t),method:"delete"})}var p={name:"Tag",data:function(){return{tagList:[],inputVisible:!1,inputValue:"",dialogVisible:!1,tag:{}}},mounted:function(){this.init()},methods:{init:function(){this.getList()},getList:function(){var t=this;o().then((function(e){t.tagList=e.data}))},deleteTag:function(t){var e=this;this.$confirm("确定要删除这个标签吗?","Warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(c["a"])(Object(s["a"])().mark((function n(){return Object(s["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,g(t.tagId);case 2:e.tagList.splice(e.tagList.indexOf(t),1),e.$message({type:"success",message:"标签删除成功!"});case 4:case"end":return n.stop()}}),n)})))).catch((function(t){console.error(t)}))},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(e){t.$refs.saveTagInput.$refs.input.focus()}))},createNewTag:function(){var t=this;r({tagName:this.inputValue}).then((function(){t.$message.success("标签创建成功"),t.inputVisible=!1,t.inputValue="",t.getList()}))},resetInput:function(){this.inputVisible=!1,this.inputValue=""},clickHandle:function(t){this.tag=Object.assign({},t),this.dialogVisible=!0},confirmRole:function(){var t=this;r(this.tag).then((function(){t.$message.success("标签修改成功"),t.dialogVisible=!1,t.tag={},t.getList()}))}}},f=p,d=(n("3ad8"),n("2877")),b=Object(d["a"])(f,i,a,!1,null,"fa287634",null);e["default"]=b.exports}}]);